{"ast":null,"code":"import matter from 'gray-matter';\nimport marked from \"marked\";\nimport yaml from \"js-yaml\";\nimport ReactMarkdown from 'react-markdown';\nexport async function getAllPosts() {\n  const context = require.context('../_posts', false, /\\.md$/);\n\n  const posts = [];\n\n  for (const key of context.keys()) {\n    const post = key.slice(2);\n    const content = await import(`../_posts/${post}`);\n    const meta = matter(content.default); //console.log('post: ', post)\n\n    posts.push({\n      slug: post.replace('.md', ''),\n      title: meta.data.title,\n      date: meta.data.date\n    });\n  }\n\n  return posts;\n}\nexport async function getPostBySlug(slug) {\n  const fileContent = await import(`../_posts/${slug}.md`);\n  const meta = matter(fileContent.default); //   const content = marked(meta.content)    \n  //   const content = <ReactMarkdown>{meta.content}</ReactMarkdown>\n\n  return {\n    title: meta.data.title,\n    content: fileContent.default\n  };\n}\nexport async function getConfig() {\n  const config = await import(`../../config.yml`);\n  return yaml.load(config.default);\n}","map":{"version":3,"sources":["/home/markus/Projects/website/src/api/index.js"],"names":["matter","marked","yaml","ReactMarkdown","getAllPosts","context","require","posts","key","keys","post","slice","content","meta","default","push","slug","replace","title","data","date","getPostBySlug","fileContent","getConfig","config","load"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,aAAnB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AAEA,OAAOC,IAAP,MAAiB,SAAjB;AACA,OAAOC,aAAP,MAA0B,gBAA1B;AAEA,OAAO,eAAeC,WAAf,GAA6B;AAClC,QAAMC,OAAO,GAAGC,OAAO,CAACD,OAAR,CAAgB,WAAhB,EAA6B,KAA7B,EAAoC,OAApC,CAAhB;;AACA,QAAME,KAAK,GAAG,EAAd;;AACE,OAAI,MAAMC,GAAV,IAAiBH,OAAO,CAACI,IAAR,EAAjB,EAAgC;AAC9B,UAAMC,IAAI,GAAGF,GAAG,CAACG,KAAJ,CAAU,CAAV,CAAb;AACA,UAAMC,OAAO,GAAG,MAAM,OAAQ,aAAYF,IAAK,EAAzB,CAAtB;AACA,UAAMG,IAAI,GAAGb,MAAM,CAACY,OAAO,CAACE,OAAT,CAAnB,CAH8B,CAK9B;;AACAP,IAAAA,KAAK,CAACQ,IAAN,CAAW;AACTC,MAAAA,IAAI,EAAEN,IAAI,CAACO,OAAL,CAAa,KAAb,EAAmB,EAAnB,CADG;AAETC,MAAAA,KAAK,EAAEL,IAAI,CAACM,IAAL,CAAUD,KAFR;AAGTE,MAAAA,IAAI,EAAEP,IAAI,CAACM,IAAL,CAAUC;AAHP,KAAX;AAKH;;AACD,SAAOb,KAAP;AACD;AAID,OAAO,eAAec,aAAf,CAA6BL,IAA7B,EAAmC;AACxC,QAAMM,WAAW,GAAG,MAAM,OAAQ,aAAYN,IAAK,KAAzB,CAA1B;AACA,QAAMH,IAAI,GAAGb,MAAM,CAACsB,WAAW,CAACR,OAAb,CAAnB,CAFwC,CAG1C;AACA;;AAEE,SAAO;AACLI,IAAAA,KAAK,EAAEL,IAAI,CAACM,IAAL,CAAUD,KADZ;AAELN,IAAAA,OAAO,EAAEU,WAAW,CAACR;AAFhB,GAAP;AAID;AAGD,OAAO,eAAeS,SAAf,GAA2B;AAC9B,QAAMC,MAAM,GAAG,MAAM,OAAQ,kBAAR,CAArB;AACA,SAAOtB,IAAI,CAACuB,IAAL,CAAUD,MAAM,CAACV,OAAjB,CAAP;AACH","sourcesContent":["import matter from 'gray-matter'\nimport marked from \"marked\"\n\nimport yaml from \"js-yaml\"\nimport ReactMarkdown from 'react-markdown'\n\nexport async function getAllPosts() {\n  const context = require.context('../_posts', false, /\\.md$/)\n  const posts = []\n    for(const key of context.keys()){\n      const post = key.slice(2);\n      const content = await import(`../_posts/${post}`);\n      const meta = matter(content.default)\n      \n      //console.log('post: ', post)\n      posts.push({\n        slug: post.replace('.md',''),\n        title: meta.data.title,\n        date: meta.data.date,\n      })\n  }\n  return posts;\n}\n\n\n\nexport async function getPostBySlug(slug) {\n  const fileContent = await import(`../_posts/${slug}.md`)\n  const meta = matter(fileContent.default)\n//   const content = marked(meta.content)    \n//   const content = <ReactMarkdown>{meta.content}</ReactMarkdown>\n\n  return {\n    title: meta.data.title, \n    content: fileContent.default\n  }\n}\n\n\nexport async function getConfig() {\n    const config = await import(`../../config.yml`)\n    return yaml.load(config.default)\n}\n"]},"metadata":{},"sourceType":"module"}